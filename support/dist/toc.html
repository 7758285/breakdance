<section class="main-content"><details>
  <summary>Table of contents</summary>  
  <ul id="toc">
  </ul>
</details><br>
  <h1>TOC</h1>
<p>Table of contents.</p>
<p><strong>Rules</strong></p>
<ul>
<li>if <code>lvl</code> &gt; <code>last.lvl</code>
<ul>
<li>create a new <code>ul</code></li>
<li>add the <code>li</code> to the <code>ul</code></li>
</ul></li>
<li>if <code>lvl</code> &lt; <code>last.lvl</code>
<ul>
<li>pop off last <code>ul</code></li>
<li>close off <code>ul</code></li>
<li>(re-)get <code>last</code> node</li>
<li>add the <code>li</code> to <code>last.nodes</code></li>
</ul></li>
</ul>
<h2>Foo</h2>
<p>foo section.</p>
<h3>Nested</h3>
<p>foo nested.</p>
<h4>Nested nested</h4>
<p>foo nested nested.</p>

</section>